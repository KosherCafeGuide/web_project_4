!function(){"use strict";var e=class{constructor(e,t){this._settings=e,this._formElement=t}_hideInputError(e){const t=this._formElement.querySelector("#"+e.id+"-error");t.textContent="",t.classList.remove(this._settings.errorClass),e.classList.remove(this._settings.inputErrorClass)}_showInputError(e){const t=this._formElement.querySelector("#"+e.id+"-error");t.textContent=e.validationMessage,t.classList.add(this._settings.errorClass),e.classList.add(this._settings.inputErrorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this.inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this.button.classList.add(this._settings.inactiveButtonClass),this.button.disabled=!0):(this.button.classList.remove(this._settings.inactiveButtonClass),this.button.disabled=!1)}_setEventListners(){this.inputList=[...this._formElement.querySelectorAll(this._settings.inputSelector)],this.button=this._formElement.querySelector(this._settings.submitButtonSelector),this.inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))})),this._toggleButtonState()}enableValidation(){this._formElement.addEventListener("submit",(e=>e.preventDefault())),this._setEventListners()}resetValidation(){this.inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}};const t={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};var s=class{constructor(e){this.popupElement=document.querySelector(e),this._handleEscUp=this._handleEscUp.bind(this),this.close=this.close.bind(this),this.open=this.open.bind(this)}_handleEscUp(e){e.preventDefault(),"Escape"===e.key&&this.close()}setEventListeners(){this.popupElement.querySelector(".cancel").addEventListener("click",this.close),this.popupElement.addEventListener("mousedown",(e=>{e.target===this.popupElement&&this.close()}))}_handleOverlayClick(e){e.target===this.popupElement&&this.close()}open(){this.popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscUp)}close(){this.popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscUp)}},i=class extends s{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;var i,n;super(t),n=()=>{this._form.reset(),super.close()},(i="close")in this?Object.defineProperty(this,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[i]=n,this._handleFormSubmit=s,this._form=this.popupElement.querySelector(".popup__form"),this._submitBtn=this._form.querySelector(".popup__button"),this._inputs=[...this._form.querySelectorAll(".popup__input")]}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}changeSubmitBtnText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"saving";this._submitBtn.textContent=e}_formSubmit(){this._handleFormSubmit(this._getInputValues())}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>this._formSubmit(e)))}prefillForm(e){this._inputs.forEach((t=>{t.value=e[t.name]}))}};const n=new class{constructor(e){let{baseURL:t,headers:s}=e;this.baseURL=t,this.headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject(e.statusText)}_customFetch(e){return fetch(e,{method:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",headers:this.headers}).then(this._checkResponse)}getInitialCards(){return this._customFetch("".concat(this.baseURL,"/cards"))}getUserInfo(){return this._customFetch("".concat(this.baseURL,"/users/me"))}editProfile(e){let{userName:t,about:s}=e;return fetch("".concat(this.baseURL,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t,about:s})}).then(this._checkResponse)}addCard(e){let{name:t,link:s}=e;return fetch("".concat(this.baseURL,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:t,link:s})}).then(this._checkResponse)}deleteCard(e){return this._customFetch("".concat(this.baseURL,"/cards/").concat(e),"DELETE")}getLikesCount(e){return this._customFetch("".concat(this.baseURL,"/cards/likes/").concat(e),"GET").then((e=>e.likes.length))}isMyCard(e){return fetch("".concat(this.baseURL,"/cards/").concat(e),{headers:this.headers}).then(this._checkResponse).then((e=>e.owner._id===this.authorisation))}likeCard(e){return this._customFetch("".concat(this.baseURL,"/cards/likes/").concat(e),"PUT")}unlikeCard(e){return this._customFetch("".concat(this.baseURL,"/cards/likes/").concat(e),"DELETE")}updateAvatar(e){let{link:t}=e;return fetch("".concat(this.baseURL,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}}({baseURL:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"077e02f5-469c-4925-a110-e7daac9f6ead","Content-Type":"application/json"}});const r=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:i}=e;this.nameElement=document.querySelector(t),this.jobElement=document.querySelector(s),this.avatarElement=document.querySelector(i)}getUserInfo(){return{name:this.nameElement.textContent,job:this.jobElement.textContent}}setUserInfo(e){let{userName:t,job:s,userID:i,avatarURL:n}=e;this.nameElement.textContent=t,this.jobElement.textContent=s,this.userID=i,this.avatarElement.style.backgroundImage="url(".concat(n,")")}getUserID(){return this.userID}setAvatar(e){this.avatarElement.style.backgroundImage="url(".concat(e,")")}}({nameSelector:".profile__name",jobSelector:".profile__job",avatarSelector:".profile__avatar"}),a=e=>{const t=e.owner._id===c,s=function(e){return new class{constructor(e,t){this._title=e.data.name,this._imageUrl=e.data.link,this._cardID=e.data._id,this._ownerID=e.data.owner._id,this._likes=e.data.likes,this._handleLike=e.handleLike,this._handleUnlike=e.handleUnlike,this._handleCardClick=e.handleCardClick,this._confirmDelete=e.confirmDelete,this._templateSelector=t,this._doILike=this._doILike.bind(this)}_getTemplate(){this._cardElement=document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}_addDataToCard(){this.title=this._cardElement.querySelector(".element__image-title"),this.image=this._cardElement.querySelector(".element__image"),this.likesCount=this._cardElement.querySelector(".element__likes-count"),void 0===this._likes&&(this._likes=[]),this.likesCount.textContent=this._likes.length,this.title.textContent=this._title,this.image.src=this._imageUrl,this.image.alt=this._title}deleteCard(){this._cardElement.remove(),this._cardElement=null}_doILike(e){return e._id===this._myID}_addEventListeners(e){const t=this._cardElement.querySelector(".element__delete-btn");e?(t.classList.remove("hide"),t.addEventListener("click",(()=>{this._confirmDelete(this)}))):t.classList.add("hide"),this._likeButton=this._cardElement.querySelector(".element__like-toggle"),this.isLikedByMe=this._likes.find(this._doILike),this.setLikeIcon(),this._likeButton.addEventListener("click",(()=>{this.isLikedByMe?this._handleUnlike(this):this._handleLike(this)})),this.image.addEventListener("click",(()=>{this._handleCardClick({link:this._imageUrl,name:this._title})}))}setLikeIcon(){this.isLikedByMe?this._likeButton.classList.add("element__like-toggle-active"):this._likeButton.classList.remove("element__like-toggle-active")}updateLikesCount(e){this.likesCount.textContent=e}generateCard(e,t){return this._myID=t,this._getTemplate(),this._addDataToCard(),this._addEventListeners(e),this._cardElement}getID(){return this._cardID}}({data:e,handleCardClick:()=>{d(e)},confirmDelete:e=>{_(e)},handleLike:o,handleUnlike:l},"#element")}(e);h.addItem(s.generateCard(t,c))};function o(e){n.likeCard(e.getID()).then((t=>{e.isLikedByMe=!0,e.setLikeIcon(!0),e.updateLikesCount(t.likes.length)})).catch((e=>{console.log(e)})).finally((()=>{}))}function l(e){n.unlikeCard(e.getID()).then((t=>{e.isLikedByMe=!1,e.setLikeIcon(!1),e.updateLikesCount(t.likes.length)})).catch((e=>{console.log(e)}))}const h=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}renderItems(e){e.forEach((e=>{this._renderer(e)}))}}({renderer:a},".elements");let c="0";Promise.all([n.getInitialCards(),n.getUserInfo()]).then((e=>{let[t,s]=e;c=s._id,h.renderItems(t),r.setUserInfo({userName:s.name,job:s.about,userID:s._id,avatarURL:s.avatar})})).catch((e=>{console.log(e)}));const u=new class extends s{constructor(e){var t,s;super(e),s=e=>{let{link:t,name:s}=e;this.imageCaption.textContent=s,this.imageElement.src=t,this.imageElement.alt=s,super.open()},(t="open")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this.open=s,this.imageCaption=this.popupElement.querySelector(".popup__image-title"),this.imageElement=this.popupElement.querySelector(".popup__image")}}(".popup-image"),d=e=>{u.open(e)},p=new i({popupSelector:".popup-profile-form",handleFormSubmit:e=>{p.changeSubmitBtnText("Updating profile information"),n.editProfile({userName:e.name,about:e.job}).then((e=>{r.setUserInfo({userName:e.name,job:e.about,avatarURL:e.avatar}),p.close()})).catch((e=>{console.log(e)})).finally((()=>{p.changeSubmitBtnText("Save")}))}}),m=new class extends s{constructor(e){let{popupSelector:t,handleSubmit:s}=e;super(t),this._handleSubmit=s,this._confirmation=this.popupElement.querySelector(".popup__confirmation"),this._submitBtn=this._confirmation.querySelector(".popup__button")}_confirmSubmit(e){e.preventDefault(),this._handleSubmit(this.card)}open(e){this.card=e,super.open()}setEventListeners(){super.setEventListeners(),this._confirmation.addEventListener("submit",(e=>this._confirmSubmit(e)))}changeSubmitBtnText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"saving";this._submitBtn.textContent=e}}({popupSelector:".popup-delete-confirmation",handleSubmit:e=>{m.changeSubmitBtnText("Deleting..."),n.deleteCard(e.getID()).then((t=>{e.deleteCard(),m.close()})).catch((e=>{console.log(e)})).finally((()=>{m.changeSubmitBtnText("Yes")}))}}),_=e=>{m.open(e)},g=new i({popupSelector:".popup-place-form",handleFormSubmit:e=>{g.changeSubmitBtnText("Adding new photo"),n.addCard(e).then((t=>{e.owner={_id:r.getUserID()},e._id=t._id,e.owner._id=c,a(e),g.close()})).catch((e=>{console.log(e)})).finally((()=>{g.changeSubmitBtnText("Save")}))}}),b=new i({popupSelector:".popup-avatar-form",handleFormSubmit:e=>{b.changeSubmitBtnText("Updating avatar image"),n.updateAvatar(e).then((t=>{t.avatar===e.link?(r.setAvatar(e.link),b.close()):reject("Error changing Avatar image")})).catch((e=>{console.log(e)})).finally((e=>{b.changeSubmitBtnText("Save")}))}}),E=new e(t,p.popupElement),v=new e(t,g.popupElement),k=new e(t,b.popupElement);u.setEventListeners(),p.setEventListeners(),g.setEventListeners(),m.setEventListeners(),b.setEventListeners(),E.enableValidation(),v.enableValidation(),k.enableValidation();const L=document.querySelector(".profile__edit-btn"),f=document.querySelector(".profile__add-btn"),S=document.querySelector(".profile__edit-avatar-btn");L.addEventListener("click",(()=>{p.open(),p.prefillForm(r.getUserInfo()),E.resetValidation()})),f.addEventListener("click",(()=>{g.open(),v.resetValidation()})),S.addEventListener("click",(()=>{b.open(),k.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUFBYW1CLEdBQ1oxQyxNQUFLVixJQUNFQSxFQUFJa0MsU0FBV2tCLEVBQUtoQyxNQUNwQmdCLEVBQVNjLFVBQVVFLEVBQUtoQyxNQUN4QitHLEVBQWtCL0osU0FFbEJnQyxPQUFPLGtDQUlkaUcsT0FBTTRCLElBQ0gxQixRQUFRQyxJQUFJeUIsTUFFZnhCLFNBQVF6RyxJQUNMbUksRUFBa0IzSSxvQkFBb0IsY0FTaEQ0SSxFQUF1QixJQUFJQyxFQUFjeEssRUFBbUI0SixFQUFjekosY0FDMUVzSyxFQUFxQixJQUFJRCxFQUFjeEssRUFBbUJxSyxFQUFhbEssY0FDdkV1SyxFQUE0QixJQUFJRixFQUFjeEssRUFBbUJzSyxFQUFrQm5LLGNBSXpGc0osRUFBVzlJLG9CQUNYaUosRUFBY2pKLG9CQUNkMEosRUFBYTFKLG9CQUNibUosRUFBd0JuSixvQkFDeEIySixFQUFrQjNKLG9CQVNsQjRKLEVBQXFCM0ssbUJBQ3JCNkssRUFBbUI3SyxtQkFDbkI4SyxFQUEwQjlLLG1CQUsxQixNQUFNK0ssRUFBa0J2SyxTQUFTbkMsY0FBYyxzQkFDekMyTSxFQUFnQnhLLFNBQVNuQyxjQUFjLHFCQUN2QzRNLEVBQWlCekssU0FBU25DLGNBQWMsNkJBTzlDME0sRUFBZ0JoTCxpQkFBaUIsU0FOTSxLQUNuQ2lLLEVBQWNwSixPQUNkb0osRUFBYzlILFlBQVl5QyxFQUFTeEIsZUFDbkN3SCxFQUFxQnhLLHFCQVN6QjZLLEVBQWNqTCxpQkFBaUIsU0FKSixLQUN2QjBLLEVBQWE3SixPQUNiaUssRUFBbUIxSyxxQkFPdkI4SyxFQUFlbEwsaUJBQWlCLFNBSk4sS0FDdEIySyxFQUFrQjlKLE9BQ2xCa0ssRUFBMEIzSyxxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdF84Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0XzgvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdF84Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3Byb2plY3RfOC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0XzgvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0XzgvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL0NhcmQgY2xhc3Mgd2l0aCBFeHBvcnRcclxuY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCB0ZW1wbGF0ZVNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBkYXRhLmRhdGEubmFtZTsgLy9ub3Qgc3VyZSB3aHkgSSBuZWVkIHRoZSBleHRyYSBcImRhdGEuXCIgaGVyZSFcclxuICAgICAgICB0aGlzLl9pbWFnZVVybCA9IGRhdGEuZGF0YS5saW5rO1xyXG4gICAgICAgIHRoaXMuX2NhcmRJRCA9IGRhdGEuZGF0YS5faWQ7XHJcbiAgICAgICAgdGhpcy5fb3duZXJJRCA9IGRhdGEuZGF0YS5vd25lci5faWQ7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBkYXRhLmRhdGEubGlrZXM7XHJcblxyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2UgPSBkYXRhLmhhbmRsZUxpa2U7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlVW5saWtlID0gZGF0YS5oYW5kbGVVbmxpa2U7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gZGF0YS5oYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5fY29uZmlybURlbGV0ZSA9IGRhdGEuY29uZmlybURlbGV0ZTsgLy9yZXR1cm5zIHRydWUgaWYgc2hvdWxkIGRlbGV0ZSBcclxuICAgICAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjsgLy8gXCIjY2FyZC10ZW1wbGF0ZVwiXHJcblxyXG4gICAgICAgIHRoaXMuX2RvSUxpa2UgPSB0aGlzLl9kb0lMaWtlLmJpbmQodGhpcyk7XHJcbiAgICB9O1xyXG4gICAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgICAgICAgLmNvbnRlbnRcclxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxyXG4gICAgICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgfVxyXG4gICAgX2FkZERhdGFUb0NhcmQoKSB7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2UtdGl0bGVcIik7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIik7XHJcbiAgICAgICAgdGhpcy5saWtlc0NvdW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlcy1jb3VudFwiKTtcclxuICAgICAgICBpZiAodGhpcy5fbGlrZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9saWtlcyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxpa2VzQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy50aXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gdGhpcy5faW1hZ2VVcmw7XHJcbiAgICAgICAgdGhpcy5pbWFnZS5hbHQgPSB0aGlzLl90aXRsZTtcclxuICAgIH1cclxuICAgIGRlbGV0ZUNhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7IC8vdGhpcy5fY2FyZEVsZW1lbnQ9bnVsbDsgZG9lcyBub3Qgd29ya1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuICAgIH1cclxuICAgIF9kb0lMaWtlKGlkT2ZMaWtlcikge1xyXG4gICAgICAgIHJldHVybiBpZE9mTGlrZXIuX2lkID09PSB0aGlzLl9teUlEO1xyXG4gICAgfVxyXG4gICAgX2FkZEV2ZW50TGlzdGVuZXJzKGNhbkRlbGV0ZSkge1xyXG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlLWJ0blwiKVxyXG4gICAgICAgIGlmIChjYW5EZWxldGUpIHtcclxuICAgICAgICAgICAgZGVsZXRlQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbmZpcm1EZWxldGUodGhpcyk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkZWxldGVCdG4uY2xhc3NMaXN0LmFkZChcImhpZGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtdG9nZ2xlXCIpO1xyXG4gICAgICAgIHRoaXMuaXNMaWtlZEJ5TWUgPSB0aGlzLl9saWtlcy5maW5kKHRoaXMuX2RvSUxpa2UpO1xyXG4gICAgICAgIHRoaXMuc2V0TGlrZUljb24oKTtcclxuXHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gdGhpcy5pc0xpa2VkQnlNZSA9ICF0aGlzLmlzTGlrZWRCeU1lO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0xpa2VkQnlNZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlVW5saWtlKHRoaXMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlTGlrZSh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh7XHJcbiAgICAgICAgICAgICAgICBsaW5rOiB0aGlzLl9pbWFnZVVybCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuX3RpdGxlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2V0TGlrZUljb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNMaWtlZEJ5TWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fbGlrZS10b2dnbGUtYWN0aXZlXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX2xpa2UtdG9nZ2xlLWFjdGl2ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGVMaWtlc0NvdW50KG5ld0NvdW50KSB7XHJcbiAgICAgICAgdGhpcy5saWtlc0NvdW50LnRleHRDb250ZW50ID0gbmV3Q291bnQ7XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZUNhcmQoY2FuRGVsZXRlLCBteUlEKSB7XHJcbiAgICAgICAgdGhpcy5fbXlJRCA9IG15SUQ7XHJcbiAgICAgICAgdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgICAgICB0aGlzLl9hZGREYXRhVG9DYXJkKCk7XHJcbiAgICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoY2FuRGVsZXRlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gICAgfVxyXG4gICAgZ2V0SUQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRJRDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDsiLCIvL2NsYXNzIEZvcm1WYWxpZGF0b3Igd2l0aCBFeHBvcnRcclxuY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzOyAvL3NlbGVjdG9ycyBhbmQgZm9ybSBjbGFzc2VzXHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDsgLy9mb3JtIGVsZW1lbnQgdG8gYmUgdmFsaWRhdGVkXHJcbiAgICB9XHJcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgaW5wdXQuaWQgKyBcIi1lcnJvclwiKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIH1cclxuICAgIF9zaG93SW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBpbnB1dC5pZCArIFwiLWVycm9yXCIpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KSB7XHJcbiAgICAgICAgaWYgKGlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4geyByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCB9KVxyXG4gICAgfVxyXG5cclxuICAgIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxyXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxyXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zZXRFdmVudExpc3RuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuaW5wdXRMaXN0ID0gWy4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuaW5wdXRTZWxlY3RvcildO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdG5lcnMoKTtcclxuXHJcbiAgICB9XHJcbiAgICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpIC8vY2xlYXJpbmcgZXJyb3JzIGV2ZW4gaWYgdXNlciBhY2NpZGVudGx5IGxlYXZlcyB0aGUgZm9ybSB3aXRoIGVycm9ycyBvbiBpdCEgICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpOyAvLyBjb250cm9sbGluZyB0aGUgc3VibWl0IGJ1dHRvbiBcclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yOyIsImV4cG9ydCBjb25zdCBkZWZhdWx0Rm9ybUNvbmZpZyA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxuICAgIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCJcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cENvbmZpZyA9IHtcclxuICAgIGltYWdlTW9kYWxXaW5kb3c6IFwiLnBvcHVwLWltYWdlXCIsXHJcbiAgICBlZGl0Rm9ybU1vZGFsV2luZG93OiBcIi5wb3B1cC1wcm9maWxlLWZvcm1cIixcclxuICAgIGNhcmRGb3JtTW9kYWxXaW5kb3c6IFwiLnBvcHVwLXBsYWNlLWZvcm1cIixcclxuICAgIGRlbGV0ZUNvbmZpcm1hdGlvbldpbmRvdzogXCIucG9wdXAtZGVsZXRlLWNvbmZpcm1hdGlvblwiLFxyXG4gICAgY2hhbmdlQXZhdGFyTW9kYWxXaW5kb3c6IFwiLnBvcHVwLWF2YXRhci1mb3JtXCJcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQ29uZmlnID0ge1xyXG4gICAgcHJvZmlsZVRpdGxlOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgICBwcm9maWxlRGVzY3JpcHRpb246IFwiLnByb2ZpbGVfX2pvYlwiLFxyXG4gICAgcHJvZmlsZUF2YXRhckltYWdlOiBcIi5wcm9maWxlX19hdmF0YXJcIlxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRzQ29uZmlnID0ge1xyXG4gICAgY2FyZFNlbGVjdG9yOiBcIiNlbGVtZW50XCIsIC8vQ2FyZC4gdGVtcGxhdGVTZWxlY3RvciAgXHJcbiAgICBwbGFjZXN3cmFwOiBcIi5lbGVtZW50c1wiLCAvL1NlY3Rpb24uY29udGFpbmVyU2VsZWN0b3JcclxufTtcclxuZXhwb3J0IGNvbnN0IHN1Ym1pdEJ1dHRvbkNvbmZpZyA9IHtcclxuICAgIHByb2ZpbGU6IFwiLmVkaXQtcHJvZmlsZS1mb3JtX19zYXZlXCIsXHJcbiAgICBhdmF0YXI6IFwiLnVwZGF0ZS1hdmF0YXItZm9ybV9fc2F2ZVwiLFxyXG4gICAgY2FyZDogXCIuYWRkLXBsYWNlLWZvcm1fX3NhdmVcIlxyXG59IiwiY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMucG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NVcCA9IHRoaXMuX2hhbmRsZUVzY1VwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZSA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlRXNjVXAoZXZ0KSB7XHJcbiAgICAgICAgLy9wcmV2ZW50IGRlZmF1bHQgYW5kIGlmIGJ1dHRvbiB3YXMgRXNjIGNhbGwgY2xvc2UgbWV0aG9kXHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgLy9jcmVhdGUgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGNsaWNrIG9uIGNsb3NlIGJ1dHRvbiBvciBzZW1pdHJhbnNwYXJlbnQgYmFja2dyb3VuZFxyXG4gICAgICAgIHRoaXMucG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW5jZWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpOyAvL2Nsb3NlIGJ1dHRvblxyXG4gICAgICAgIC8vc3VnZ2VzdGlvbiBvZiBtb3VzZWRvd24gdXNlZC4gZXZlbnRMaXN0ZW5lcnMgdXNpbmcgYXJyb3cgZnVuY3Rpb25zIGNhbid0IGJlIHJlbW92ZWQsXHJcbiAgICAgICAgLy8gYW5kIGlmIEkgZG9uJ3QgdXNlIGFuIGFycm93IGZ1bmN0aW9uIEkgZG9uJ3QgaGF2ZSBhY2Nlc3MgdG8gYm90aCBldnQudGFyZ2V0IGFuZCB0aGlzLnBvcHVwRWxlbWVudFxyXG4gICAgICAgIC8vIHNvIGlmIEkgY2FuJ3QgcmVtb3ZlIGl0IGluIGNsb3NlLCBJJ20gbm90IGdvaW5nIHRvIGNyZWF0ZSBhIG5ldyBvbiB3aXRoIGVhY2ggb3BlbiE5MC0vODQ3MjQyNTQ1MTEzMiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5wb3B1cEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTsgLy9wb3B1cCBzZW1pdHJhbnNwYXJlbnQgYmFja2dyb3VuZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlT3ZlcmxheUNsaWNrKGV2dCkge1xyXG4gICAgICAgIGlmIChldnQudGFyZ2V0ID09PSB0aGlzLnBvcHVwRWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7IC8vcG9wdXAgc2VtaXRyYW5zcGFyZW50IGJhY2tncm91bmRcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIC8vYWRkIGEgbmV3IGNsYXNzIGFuZCBjcmVhdGVzIGFuIGV2ZW50bGlzdGVuZXIgZm9yIEVzYyBrZXl1cFxyXG4gICAgICAgIHRoaXMucG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlRXNjVXApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICAvL3JlbW92ZXMgdGhlIGNsYXNzIHdlIGFkZGVkIGFuZCB0aGUgZXZlbnRsaXN0ZW5lciBmb3IgdGhlIEVzYyBrZXl1cFxyXG4gICAgICAgIHRoaXMucG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlRXNjVXApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpOyAvL3RoaXMucG9wdXBFbGVtZW50XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMucG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24nKTtcclxuICAgICAgICB0aGlzLl9pbnB1dHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0JyldO1xyXG5cclxuICAgIH1cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gICAgfVxyXG4gICAgY2hhbmdlU3VibWl0QnRuVGV4dChtc2cgPSBcInNhdmluZ1wiKSB7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gbXNnO1xyXG4gICAgfVxyXG4gICAgX2Zvcm1TdWJtaXQoKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH1cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4gdGhpcy5fZm9ybVN1Ym1pdChldnQpKTtcclxuICAgIH1cclxuICAgIGNsb3NlID0gKCkgPT4geyAvL2Fycm93IGZ1bmN0aW9uIG1ldGhvZCwgcmV0YWlucyBjb250ZXh0IHdpdGhvdXQgbmVlZCBmb3IgLmJpbmQodGhpcylcclxuXHJcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlZmlsbEZvcm0oaW5wdXRWYWx1ZXMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07IiwiY2xhc3MgQVBJIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCwgaGVhZGVycyB9KSB7XHJcbiAgICAgICAgdGhpcy5iYXNlVVJMID0gYmFzZVVSTDtcclxuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xyXG4gICAgfVxyXG4gICAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICAgICAgcmV0dXJuIChyZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKTs7XHJcbiAgICB9XHJcbiAgICBfY3VzdG9tRmV0Y2godXJsLCBtZXRob2QgPSBcIkdFVFwiKSB7IC8vdXNlZCBpbnRlcm5hbGx5XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHVybCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuXHJcbiAgICB9XHJcbiAgICBnZXRJbml0aWFsQ2FyZHMoKSB7IC8vaW5kZXguanMgbGluZSA2NlxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLmJhc2VVUkx9L2NhcmRzYCk7XHJcbiAgICB9XHJcbiAgICBnZXRVc2VySW5mbygpIHsgLy9pbmRleC5qcyBMaW5lIDY2IGFuZCAxODZcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5iYXNlVVJMfS91c2Vycy9tZWApO1xyXG4gICAgfVxyXG5cclxuICAgIGVkaXRQcm9maWxlKHsgdXNlck5hbWUsIGFib3V0IH0pIHsgLy9pbmRleC5qcyBMaW5lIDkxXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVSTH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFib3V0OiBhYm91dFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7IC8vaW5kZXguanMgTGluZSAxMzZcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVVJMfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBsaW5rOiBsaW5rXHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICAgIH1cclxuICAgIGRlbGV0ZUNhcmQoY2FyZElEKSB7IC8vaW5kZXguanMgTGluZSAxMDlcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5iYXNlVVJMfS9jYXJkcy8ke2NhcmRJRH1gLCBcIkRFTEVURVwiKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRMaWtlc0NvdW50KGNhcmRJRCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5iYXNlVVJMfS9jYXJkcy9saWtlcy8ke2NhcmRJRH1gLCBcIkdFVFwiKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQubGlrZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qTm90IHVzZWQgeWV0Ki9cclxuICAgIGlzTXlDYXJkKGNhcmRJRCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVUkx9L2NhcmRzLyR7Y2FyZElEfWAsIHtcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lm93bmVyLl9pZCA9PT0gdGhpcy5hdXRob3Jpc2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGlrZUNhcmQoY2FyZElEKSB7IC8vaW5kZXguanMgTGluZSA0OFxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLmJhc2VVUkx9L2NhcmRzL2xpa2VzLyR7Y2FyZElEfWAsIFwiUFVUXCIpXHJcbiAgICB9XHJcbiAgICB1bmxpa2VDYXJkKGNhcmRJRCkgeyAvL2luZGV4LmpzIExpbmUgNTBcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5iYXNlVVJMfS9jYXJkcy9saWtlcy8ke2NhcmRJRH1gLCBcIkRFTEVURVwiKVxyXG4gICAgfVxyXG4gICAgdXBkYXRlQXZhdGFyKHsgbGluayB9KSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVSTH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiBsaW5rXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG5cclxuICAgIH1cclxuXHJcblxyXG59XHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQVBJKHtcclxuICAgIGJhc2VVUkw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiMDc3ZTAyZjUtNDY5Yy00OTI1LWExMTAtZTdkYWFjOWY2ZWFkXCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgIH1cclxufSk7IiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuLy8tLVxyXG4vL2ltcG9ydCBzdGF0ZW1lbnRzXHJcbi8vLS1cclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZFwiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IGRlZmF1bHRGb3JtQ29uZmlnLCBwb3B1cENvbmZpZywgcHJvZmlsZUNvbmZpZywgY2FyZHNDb25maWcgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm1cIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb25cIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvXCI7XHJcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaVwiO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvblwiO1xyXG5cclxuXHJcbi8vLS1cclxuLy9Qcm9maWxlIFNldHVwXHJcbi8vLS1cclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICAgIG5hbWVTZWxlY3RvcjogcHJvZmlsZUNvbmZpZy5wcm9maWxlVGl0bGUsXHJcbiAgICBqb2JTZWxlY3RvcjogcHJvZmlsZUNvbmZpZy5wcm9maWxlRGVzY3JpcHRpb24sXHJcbiAgICBhdmF0YXJTZWxlY3RvcjogcHJvZmlsZUNvbmZpZy5wcm9maWxlQXZhdGFySW1hZ2VcclxufSk7XHJcblxyXG4vLy0tXHJcbi8vQ2FyZHMgU2V0dXBcclxuLy8tLVxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcclxuICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh7XHJcbiAgICAgICAgZGF0YSxcclxuICAgICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgb3BlbkltYWdlUG9wdXAoZGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb25maXJtRGVsZXRlOiAoY2FyZFRvRGVsZXRlKSA9PiB7XHJcbiAgICAgICAgICAgIG9wZW5EZWxldGVDb25maXJtYXRpb25Qb3B1cChjYXJkVG9EZWxldGUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBoYW5kbGVMaWtlLFxyXG4gICAgICAgIGhhbmRsZVVubGlrZSxcclxuICAgIH0sIGNhcmRzQ29uZmlnLmNhcmRTZWxlY3Rvcik7XHJcbiAgICByZXR1cm4gY2FyZDtcclxufVxyXG5cclxuY29uc3QgcmVuZGVyQ2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgICBjb25zdCBjYW5EZWxldGUgPSAoKGRhdGEub3duZXIuX2lkID09PSBteUlEKSA/IHRydWUgOiBmYWxzZSk7XHJcbiAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChkYXRhKTtcclxuICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNhcmQuZ2VuZXJhdGVDYXJkKGNhbkRlbGV0ZSwgbXlJRCkpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTGlrZShjYXJkKSB7XHJcbiAgICBhcGkubGlrZUNhcmQoY2FyZC5nZXRJRCgpKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgY2FyZC5pc0xpa2VkQnlNZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNhcmQuc2V0TGlrZUljb24odHJ1ZSk7XHJcbiAgICAgICAgICAgIGNhcmQudXBkYXRlTGlrZXNDb3VudChyZXMubGlrZXMubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge30pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVVbmxpa2UoY2FyZCkge1xyXG4gICAgYXBpLnVubGlrZUNhcmQoY2FyZC5nZXRJRCgpKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgY2FyZC5pc0xpa2VkQnlNZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjYXJkLnNldExpa2VJY29uKGZhbHNlKTtcclxuICAgICAgICAgICAgY2FyZC51cGRhdGVMaWtlc0NvdW50KHJlcy5saWtlcy5sZW5ndGgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbih7XHJcbiAgICByZW5kZXJlcjogcmVuZGVyQ2FyZCxcclxufSwgY2FyZHNDb25maWcucGxhY2Vzd3JhcCk7XHJcblxyXG5sZXQgbXlJRCA9IFwiMFwiO1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRJbml0aWFsQ2FyZHMoKSwgYXBpLmdldFVzZXJJbmZvKCldKVxyXG4gICAgLnRoZW4oKFtjYXJkRGF0YSwgdXNlckRhdGFdKSA9PiB7XHJcblxyXG4gICAgICAgIG15SUQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgICAgICAgY2FyZHNMaXN0LnJlbmRlckl0ZW1zKGNhcmREYXRhKTtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IHVzZXJOYW1lOiB1c2VyRGF0YS5uYW1lLCBqb2I6IHVzZXJEYXRhLmFib3V0LCB1c2VySUQ6IHVzZXJEYXRhLl9pZCwgYXZhdGFyVVJMOiB1c2VyRGF0YS5hdmF0YXIgfSk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSk7XHJcblxyXG4vLy0tXHJcbi8vSW1hZ2UgUG9wdXAgU2V0dXBcclxuLy8tLVxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwQ29uZmlnLmltYWdlTW9kYWxXaW5kb3cpO1xyXG5jb25zdCBvcGVuSW1hZ2VQb3B1cCA9IChkYXRhKSA9PiB7IGltYWdlUG9wdXAub3BlbihkYXRhKTsgfTtcclxuXHJcbi8vLS1cclxuLy9Vc2VyIEluZm8gUG9wdXAgU2V0dXBcclxuLy8tLVxyXG5jb25zdCB1c2VySW5mb1BvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gICAgcG9wdXBTZWxlY3RvcjogcG9wdXBDb25maWcuZWRpdEZvcm1Nb2RhbFdpbmRvdyxcclxuICAgIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm9Qb3B1cC5jaGFuZ2VTdWJtaXRCdG5UZXh0KFwiVXBkYXRpbmcgcHJvZmlsZSBpbmZvcm1hdGlvblwiKTtcclxuICAgICAgICBhcGkuZWRpdFByb2ZpbGUoeyB1c2VyTmFtZTogZGF0YS5uYW1lLCBhYm91dDogZGF0YS5qb2IgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgdXNlck5hbWU6IHJlcy5uYW1lLCBqb2I6IHJlcy5hYm91dCwgYXZhdGFyVVJMOiByZXMuYXZhdGFyIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvUG9wdXAuY2hhbmdlU3VibWl0QnRuVGV4dChcIlNhdmVcIik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG59KTtcclxuY29uc3QgZGVsZXRlQ29uZmlybWF0aW9uUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKHtcclxuICAgIHBvcHVwU2VsZWN0b3I6IHBvcHVwQ29uZmlnLmRlbGV0ZUNvbmZpcm1hdGlvbldpbmRvdyxcclxuICAgIGhhbmRsZVN1Ym1pdDogKGNhcmQpID0+IHtcclxuICAgICAgICBkZWxldGVDb25maXJtYXRpb25Qb3B1cC5jaGFuZ2VTdWJtaXRCdG5UZXh0KFwiRGVsZXRpbmcuLi5cIik7XHJcbiAgICAgICAgYXBpLmRlbGV0ZUNhcmQoY2FyZC5nZXRJRCgpKVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XHJcbiAgICAgICAgICAgICAgICBkZWxldGVDb25maXJtYXRpb25Qb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGVDb25maXJtYXRpb25Qb3B1cC5jaGFuZ2VTdWJtaXRCdG5UZXh0KFwiWWVzXCIpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICB9XHJcbn0pO1xyXG5jb25zdCBvcGVuRGVsZXRlQ29uZmlybWF0aW9uUG9wdXAgPSAoZGF0YSkgPT4geyBkZWxldGVDb25maXJtYXRpb25Qb3B1cC5vcGVuKGRhdGEpOyB9O1xyXG5cclxuLy8tLVxyXG4vL0FkZCBDYXJkIFBvcHVwIFNldHVwXHJcbi8vLS1cclxuY29uc3QgbmV3Q2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gICAgcG9wdXBTZWxlY3RvcjogcG9wdXBDb25maWcuY2FyZEZvcm1Nb2RhbFdpbmRvdyxcclxuICAgIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgbmV3Q2FyZFBvcHVwLmNoYW5nZVN1Ym1pdEJ0blRleHQoXCJBZGRpbmcgbmV3IHBob3RvXCIpO1xyXG4gICAgICAgIGFwaS5hZGRDYXJkKGRhdGEpXHJcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLm93bmVyID0geyBfaWQ6IHVzZXJJbmZvLmdldFVzZXJJRCgpIH07XHJcbiAgICAgICAgICAgICAgICBkYXRhLl9pZCA9IHJlcy5faWQ7XHJcbiAgICAgICAgICAgICAgICBkYXRhLm93bmVyLl9pZCA9IG15SUQ7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJDYXJkKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgbmV3Q2FyZFBvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIG5ld0NhcmRQb3B1cC5jaGFuZ2VTdWJtaXRCdG5UZXh0KFwiU2F2ZVwiKTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBjaGFuZ2VBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICAgIHBvcHVwU2VsZWN0b3I6IHBvcHVwQ29uZmlnLmNoYW5nZUF2YXRhck1vZGFsV2luZG93LFxyXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgICAgICBjaGFuZ2VBdmF0YXJQb3B1cC5jaGFuZ2VTdWJtaXRCdG5UZXh0KFwiVXBkYXRpbmcgYXZhdGFyIGltYWdlXCIpO1xyXG4gICAgICAgIGFwaS51cGRhdGVBdmF0YXIoZGF0YSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMuYXZhdGFyID09PSBkYXRhLmxpbmspIHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VySW5mby5zZXRBdmF0YXIoZGF0YS5saW5rKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VBdmF0YXJQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoXCJFcnJvciBjaGFuZ2luZyBBdmF0YXIgaW1hZ2VcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmluYWxseShyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlQXZhdGFyUG9wdXAuY2hhbmdlU3VibWl0QnRuVGV4dChcIlNhdmVcIik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG59KVxyXG5cclxuLy8tLVxyXG4vL0Zvcm0gVmFsaWRhdG9yIHNldHRpbmdzXHJcbi8vLS1cclxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihkZWZhdWx0Rm9ybUNvbmZpZywgdXNlckluZm9Qb3B1cC5wb3B1cEVsZW1lbnQpO1xyXG5jb25zdCBwbGFjZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihkZWZhdWx0Rm9ybUNvbmZpZywgbmV3Q2FyZFBvcHVwLnBvcHVwRWxlbWVudCk7XHJcbmNvbnN0IGNoYW5nZUF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihkZWZhdWx0Rm9ybUNvbmZpZywgY2hhbmdlQXZhdGFyUG9wdXAucG9wdXBFbGVtZW50KTtcclxuLy8tLVxyXG4vL0V2ZW50TGlzdGVuZXJzXHJcbi8vLS1cclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG51c2VySW5mb1BvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbm5ld0NhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5kZWxldGVDb25maXJtYXRpb25Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5jaGFuZ2VBdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4vLy0tXHJcbi8vSW5pdGlhbCBDYXJkcyAvIFBsYWNlc1xyXG4vLy0tXHJcbi8vY2FyZHNMaXN0LnJlbmRlckl0ZW1zKGluaXRpYWxDYXJkcyk7XHJcblxyXG4vLy0tXHJcbi8vRW5hYmxlIEZvcm0gVmFsaWRhdG9yc1xyXG4vLy0tXHJcbnByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxucGxhY2VGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuY2hhbmdlQXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbi8vLS1cclxuLy9ET00gdG8gSlNcclxuLy8tLVxyXG5cclxuY29uc3Qgb3BlblByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnRuJyk7XHJcbmNvbnN0IG9wZW5QbGFjZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ0bicpO1xyXG5jb25zdCBvcGVuQXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWF2YXRhci1idG4nKTtcclxuY29uc3Qgb3BlblByb2ZpbGVGb3JtV2l0aEN1cnJlbnRJbmZvID0gKCkgPT4ge1xyXG4gICAgdXNlckluZm9Qb3B1cC5vcGVuKCk7XHJcbiAgICB1c2VySW5mb1BvcHVwLnByZWZpbGxGb3JtKHVzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xyXG4gICAgcHJvZmlsZUZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn1cclxuXHJcbm9wZW5Qcm9maWxlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Qcm9maWxlRm9ybVdpdGhDdXJyZW50SW5mbyk7XHJcblxyXG5jb25zdCBvcGVuUGxhY2VGb3JtRW1wdHkgPSAoKSA9PiB7XHJcbiAgICBuZXdDYXJkUG9wdXAub3BlbigpO1xyXG4gICAgcGxhY2VGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59XHJcbm9wZW5QbGFjZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuUGxhY2VGb3JtRW1wdHkpO1xyXG5jb25zdCBjaGFuZ2VBdmF0YXJJbWFnZSA9ICgpID0+IHtcclxuICAgIGNoYW5nZUF2YXRhclBvcHVwLm9wZW4oKTtcclxuICAgIGNoYW5nZUF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn1cclxub3BlbkF2YXRhckZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VBdmF0YXJJbWFnZSk7IiwiIGNsYXNzIFVzZXJJbmZvIHtcclxuICAgICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcclxuICAgICAgICAgdGhpcy5uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgICAgICAgdGhpcy5qb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XHJcbiAgICAgICAgIHRoaXMuYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gICAgIH1cclxuXHJcbiAgICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgIGNvbnN0IHVzZXIgPSB7XHJcbiAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICAgam9iOiB0aGlzLmpvYkVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgICAgIH1cclxuICAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICAgfVxyXG5cclxuICAgICBzZXRVc2VySW5mbyh7IHVzZXJOYW1lLCBqb2IsIHVzZXJJRCwgYXZhdGFyVVJMIH0pIHtcclxuICAgICAgICAgdGhpcy5uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXJOYW1lO1xyXG4gICAgICAgICB0aGlzLmpvYkVsZW1lbnQudGV4dENvbnRlbnQgPSBqb2I7XHJcbiAgICAgICAgIHRoaXMudXNlcklEID0gdXNlcklEO1xyXG4gICAgICAgICB0aGlzLmF2YXRhckVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2F2YXRhclVSTH0pYFxyXG4gICAgIH1cclxuICAgICBnZXRVc2VySUQoKSB7XHJcbiAgICAgICAgIHJldHVybiB0aGlzLnVzZXJJRDtcclxuICAgICB9XHJcbiAgICAgc2V0QXZhdGFyKGF2YXRhclVSTCkge1xyXG4gICAgICAgICB0aGlzLmF2YXRhckVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2F2YXRhclVSTH0pYDtcclxuICAgICB9XHJcblxyXG4gfVxyXG4gZXhwb3J0IGRlZmF1bHQgVXNlckluZm87IiwiY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IC8qaXRlbXMsKi8gcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgICAgICAvL3RoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjsgLy8oKTtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgICAgIC8vcHJvamVjdCByZXF1aXJlbWVudHMgaW5jbHVkZSBsb29zZSBjb3VwbGluZyBcclxuICAgICAgICAvL3dpdGggaW5kZXguanMgYW5kIGNsYXNzIGluaGVyaXRhbmNlIGJlaW5nIHRoZSBvbmx5IGNvbm5lY3Rpb24gYmV0d2VlbiBjbGFzc2VzIVxyXG4gICAgICAgIC8vc28gXCJjb25zdCBjYXJkID0gdGhpcy5fcmVuZGVyZXIoaXRlbSlcIiBpcyBub3QgcGVybWl0dGVkIGhlcmUhXHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLmltYWdlQ2FwdGlvbiA9IHRoaXMucG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UtdGl0bGUnKTtcclxuICAgICAgICB0aGlzLmltYWdlRWxlbWVudCA9IHRoaXMucG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuICAgIH1cclxuICAgIG9wZW4gPSAoeyBsaW5rLCBuYW1lIH0pID0+IHtcclxuICAgICAgICB0aGlzLmltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5pbWFnZUVsZW1lbnQuc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLmltYWdlRWxlbWVudC5hbHQgPSBuYW1lO1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcbmNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0IH0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTsgLy90aGlzLnBvcHVwRWxlbWVudFxyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcclxuICAgICAgICB0aGlzLl9jb25maXJtYXRpb24gPSB0aGlzLnBvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbmZpcm1hdGlvbicpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX2NvbmZpcm1hdGlvbi5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbicpO1xyXG4gICAgfVxyXG4gICAgX2NvbmZpcm1TdWJtaXQoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCh0aGlzLmNhcmQpO1xyXG4gICAgfVxyXG4gICAgb3BlbihjYXJkKSB7XHJcbiAgICAgICAgdGhpcy5jYXJkID0gY2FyZDtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgICAgICB0aGlzLl9jb25maXJtYXRpb24uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB0aGlzLl9jb25maXJtU3VibWl0KGV2ZW50KSk7XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VTdWJtaXRCdG5UZXh0KG1zZyA9IFwic2F2aW5nXCIpIHtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQgPSBtc2c7XHJcbiAgICB9XHJcblxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aENvbmZpcm1hdGlvbjsiXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9zZXR0aW5ncyIsIl9mb3JtRWxlbWVudCIsIl9oaWRlSW5wdXRFcnJvciIsImlucHV0IiwiZXJyb3JFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImlkIiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJlcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJhZGQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJpbnB1dExpc3QiLCJzb21lIiwiaW5wdXRFbGVtZW50IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiYnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX3NldEV2ZW50TGlzdG5lcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbmFibGVWYWxpZGF0aW9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwicmVzZXRWYWxpZGF0aW9uIiwiZGVmYXVsdEZvcm1Db25maWciLCJmb3JtU2VsZWN0b3IiLCJwb3B1cFNlbGVjdG9yIiwicG9wdXBFbGVtZW50IiwiZG9jdW1lbnQiLCJfaGFuZGxlRXNjVXAiLCJiaW5kIiwiY2xvc2UiLCJvcGVuIiwiZXZ0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJfaGFuZGxlT3ZlcmxheUNsaWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX2Zvcm0iLCJyZXNldCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3N1Ym1pdEJ0biIsIl9pbnB1dHMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsIm5hbWUiLCJ2YWx1ZSIsImNoYW5nZVN1Ym1pdEJ0blRleHQiLCJtc2ciLCJfZm9ybVN1Ym1pdCIsInByZWZpbGxGb3JtIiwiYXBpIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXNUZXh0IiwiX2N1c3RvbUZldGNoIiwidXJsIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0VXNlckluZm8iLCJlZGl0UHJvZmlsZSIsInVzZXJOYW1lIiwiYWJvdXQiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFkZENhcmQiLCJsaW5rIiwiZGVsZXRlQ2FyZCIsImNhcmRJRCIsImdldExpa2VzQ291bnQiLCJyZXN1bHQiLCJsaWtlcyIsImxlbmd0aCIsImlzTXlDYXJkIiwib3duZXIiLCJfaWQiLCJhdXRob3Jpc2F0aW9uIiwibGlrZUNhcmQiLCJ1bmxpa2VDYXJkIiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsInVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIm5hbWVFbGVtZW50Iiwiam9iRWxlbWVudCIsImF2YXRhckVsZW1lbnQiLCJqb2IiLCJzZXRVc2VySW5mbyIsInVzZXJJRCIsImF2YXRhclVSTCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiZ2V0VXNlcklEIiwic2V0QXZhdGFyIiwicmVuZGVyQ2FyZCIsImRhdGEiLCJjYW5EZWxldGUiLCJteUlEIiwiY2FyZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJfdGl0bGUiLCJfaW1hZ2VVcmwiLCJfY2FyZElEIiwiX293bmVySUQiLCJfbGlrZXMiLCJfaGFuZGxlTGlrZSIsImhhbmRsZUxpa2UiLCJfaGFuZGxlVW5saWtlIiwiaGFuZGxlVW5saWtlIiwiX2hhbmRsZUNhcmRDbGljayIsImhhbmRsZUNhcmRDbGljayIsIl9jb25maXJtRGVsZXRlIiwiY29uZmlybURlbGV0ZSIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2RvSUxpa2UiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZEVsZW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2FkZERhdGFUb0NhcmQiLCJ0aXRsZSIsImltYWdlIiwibGlrZXNDb3VudCIsInVuZGVmaW5lZCIsInNyYyIsImFsdCIsImlkT2ZMaWtlciIsIl9teUlEIiwiX2FkZEV2ZW50TGlzdGVuZXJzIiwiZGVsZXRlQnRuIiwiX2xpa2VCdXR0b24iLCJpc0xpa2VkQnlNZSIsImZpbmQiLCJzZXRMaWtlSWNvbiIsInVwZGF0ZUxpa2VzQ291bnQiLCJuZXdDb3VudCIsImdlbmVyYXRlQ2FyZCIsImdldElEIiwib3BlbkltYWdlUG9wdXAiLCJjYXJkVG9EZWxldGUiLCJvcGVuRGVsZXRlQ29uZmlybWF0aW9uUG9wdXAiLCJjcmVhdGVDYXJkIiwiY2FyZHNMaXN0IiwiYWRkSXRlbSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZpbmFsbHkiLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJpdGVtcyIsIml0ZW0iLCJhbGwiLCJjYXJkRGF0YSIsInVzZXJEYXRhIiwiaW1hZ2VQb3B1cCIsImltYWdlQ2FwdGlvbiIsImltYWdlRWxlbWVudCIsInVzZXJJbmZvUG9wdXAiLCJQb3B1cFdpdGhGb3JtIiwiZGVsZXRlQ29uZmlybWF0aW9uUG9wdXAiLCJoYW5kbGVTdWJtaXQiLCJfaGFuZGxlU3VibWl0IiwiX2NvbmZpcm1hdGlvbiIsIl9jb25maXJtU3VibWl0IiwiZXZlbnQiLCJlcnJvciIsIm5ld0NhcmRQb3B1cCIsImNoYW5nZUF2YXRhclBvcHVwIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwicGxhY2VGb3JtVmFsaWRhdG9yIiwiY2hhbmdlQXZhdGFyRm9ybVZhbGlkYXRvciIsIm9wZW5Qcm9maWxlRm9ybSIsIm9wZW5QbGFjZUZvcm0iLCJvcGVuQXZhdGFyRm9ybSJdLCJzb3VyY2VSb290IjoiIn0=