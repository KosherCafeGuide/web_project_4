!function(){"use strict";var e=class{constructor(e,t){this._settings=e,this._formElement=t}_hideInputError(e){const t=this._formElement.querySelector("#"+e.id+"-error");t.textContent="",t.classList.remove(this._settings.errorClass),e.classList.remove(this._settings.inputErrorClass)}_showInputError(e){const t=this._formElement.querySelector("#"+e.id+"-error");t.textContent=e.validationMessage,t.classList.add(this._settings.errorClass),e.classList.add(this._settings.inputErrorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this.inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this.button.classList.add(this._settings.inactiveButtonClass),this.button.disabled=!0):(this.button.classList.remove(this._settings.inactiveButtonClass),this.button.disabled=!1)}_setEventListners(){this.inputList=[...this._formElement.querySelectorAll(this._settings.inputSelector)],this.button=this._formElement.querySelector(this._settings.submitButtonSelector),this.inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))})),this._toggleButtonState()}enableValidation(){this._formElement.addEventListener("submit",(e=>e.preventDefault())),this._setEventListners()}resetValidation(){this.inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}};const t={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};var s=class{constructor(e){this.popupElement=document.querySelector(e),this._handleEscUp=this._handleEscUp.bind(this),this.close=this.close.bind(this),this.open=this.open.bind(this)}_handleEscUp(e){e.preventDefault(),"Escape"===e.key&&this.close()}setEventListeners(){this.popupElement.querySelector(".cancel").addEventListener("click",this.close),this.popupElement.addEventListener("mousedown",(e=>{e.target===this.popupElement&&this.close()}))}_handleOverlayClick(e){e.target===this.popupElement&&this.close()}open(){this.popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscUp)}close(){this.popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscUp)}},i=class extends s{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;var i,n;super(t),n=()=>{this._form.reset(),super.close()},(i="close")in this?Object.defineProperty(this,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[i]=n,this._handleFormSubmit=s,this._form=this.popupElement.querySelector(".popup__form"),this._submitBtn=this._form.querySelector(".popup__button"),this._inputs=[...this._form.querySelectorAll(".popup__input")]}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}changeSubmitBtnText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"saving";this._submitBtn.textContent=e}_formSubmit(){this._handleFormSubmit(this._getInputValues())}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>this._formSubmit(e)))}prefillForm(e){this._inputs.forEach((t=>{t.value=e[t.name]}))}};const n=new class{constructor(e){let{baseURL:t,headers:s}=e;this.baseURL=t,this.headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject(e.statusText)}_customFetch(e){return fetch(e,{method:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",headers:this.headers}).then(this._checkResponse)}getInitialCards(){return this._customFetch("".concat(this.baseURL,"/cards"))}getUserInfo(){return this._customFetch("".concat(this.baseURL,"/users/me"))}editProfile(e){let{userName:t,about:s}=e;return fetch("".concat(this.baseURL,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t,about:s})}).then(this._checkResponse)}addCard(e){let{name:t,link:s}=e;return fetch("".concat(this.baseURL,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:t,link:s})}).then(this._checkResponse)}deleteCard(e){return this._customFetch("".concat(this.baseURL,"/cards/").concat(e),"DELETE")}getLikesCount(e){return fetch("".concat(this.baseURL,"/cards").concat(e),{headers:this.headers}).then(this._checkResponse).then((e=>e.likes.length))}isMyCard(e){return fetch("".concat(this.baseURL,"/cards/").concat(e),{headers:this.headers}).then(this._checkResponse).then((e=>e.owner._id===this.authorisation))}likeCard(e){return this._customFetch("".concat(this.baseURL,"/cards/likes/").concat(e),"PUT")}unlikeCard(e){return this._customFetch("".concat(this.baseURL,"/cards/likes/").concat(e),"DELETE")}updateAvatar(e){let{link:t}=e;return fetch("".concat(this.baseURL,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}}({baseURL:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"077e02f5-469c-4925-a110-e7daac9f6ead","Content-Type":"application/json"}});const r=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:i}=e;this.nameElement=document.querySelector(t),this.jobElement=document.querySelector(s),this.avatarElement=document.querySelector(i)}getUserInfo(){return{name:this.nameElement.textContent,job:this.jobElement.textContent}}setUserInfo(e){let{userName:t,job:s,userID:i}=e;this.nameElement.textContent=t,this.jobElement.textContent=s,this.userID=i}getUserID(){return this.userID}setAvatar(e){this.avatarElement.style.backgroundImage="url(".concat(e,")")}}({nameSelector:".profile__name",jobSelector:".profile__job",avatarSelector:".profile__avatar"}),o=e=>{const t=e.owner._id===c,s=function(e){return new class{constructor(e,t){this._title=e.data.name,this._imageUrl=e.data.link,this._cardID=e.data._id,this._ownerID=e.data.owner._id,this._likes=e.data.likes,this._handleLike=e.handleLike,this._handleUnlike=e.handleUnlike,this._handleCardClick=e.handleCardClick,this._confirmDelete=e.confirmDelete,this._templateSelector=t,this._doILike=this._doILike.bind(this)}_getTemplate(){this._cardElement=document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}_addDataToCard(){this.title=this._cardElement.querySelector(".element__image-title"),this.image=this._cardElement.querySelector(".element__image"),this.likesCount=this._cardElement.querySelector(".element__likes-count"),void 0===this._likes&&(this._likes=[]),this.likesCount.textContent=this._likes.length,this.title.textContent=this._title,this.image.src=this._imageUrl,this.image.alt=this._title}deleteCard(){this._cardElement.remove(),this._cardElement=null}_doILike(e){return e._id===this._myID}_addEventListeners(e){const t=this._cardElement.querySelector(".element__delete-btn");e?(t.classList.remove("hide"),t.addEventListener("click",(()=>{this._confirmDelete(this)}))):t.classList.add("hide"),this._likeButton=this._cardElement.querySelector(".element__like-toggle"),this.isLikedByMe=this._likes.find(this._doILike),this.setLikeIcon(),this._likeButton.addEventListener("click",(()=>{this.isLikedByMe=!this.isLikedByMe,this.isLikedByMe?this._handleLike(this):this._handleUnlike(this)})),this.image.addEventListener("click",(()=>{this._handleCardClick({link:this._imageUrl,name:this._title})}))}setLikeIcon(){this.isLikedByMe?this._likeButton.classList.add("element__like-toggle-active"):this._likeButton.classList.remove("element__like-toggle-active")}generateCard(e,t){return this._myID=t,this._getTemplate(),this._addDataToCard(),this._addEventListeners(e),this._cardElement}getID(){return this._cardID}}({data:e,handleCardClick:()=>{u(e)},confirmDelete:e=>{_(e)},handleLike:a,handleUnlike:l},"#element")}(e);h.addItem(s.generateCard(t,c))};function a(e){console.log("card ID",e.getID()),n.likeCard(e.getID()).then((t=>{e.setLikeIcon(!0)})).catch((e=>{console.log(e)}))}function l(e){n.unlikeCard(e.getID()).then((t=>{e.setLikeIcon(!1)})).catch((e=>{console.log(e)}))}const h=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}renderItems(e){e.forEach((e=>{this._renderer(e)}))}}({renderer:o},".elements");let c="0";Promise.all([n.getInitialCards(),n.getUserInfo()]).then((e=>{let[t,s]=e;c=s._id,h.renderItems(t),r.setUserInfo({userName:s.name,job:s.about,userID:s._id}),r.setAvatar(s.avatar)})).catch((e=>{console.log(e)}));const d=new class extends s{constructor(e){var t,s;super(e),s=e=>{let{link:t,name:s}=e;this.imageCaption.textContent=s,this.imageElement.src=t,this.imageElement.alt=s,super.open()},(t="open")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this.open=s,this.imageCaption=this.popupElement.querySelector(".popup__image-title"),this.imageElement=this.popupElement.querySelector(".popup__image")}}(".popup-image"),u=e=>{d.open(e)},p=new i({popupSelector:".popup-profile-form",handleFormSubmit:e=>{p.changeSubmitBtnText("Updating profile information"),n.editProfile({userName:e.name,about:e.job}).then((t=>{r.setUserInfo({userName:e.name,job:e.job}),p.changeSubmitBtnText("Save"),p.close()})).catch((e=>{console.log(e)}))}}),m=new class extends s{constructor(e){let{popupSelector:t,handleSubmit:s}=e;super(t),this._handleSubmit=s,this._confirmation=this.popupElement.querySelector(".popup__confirmation"),this._submitBtn=this._confirmation.querySelector(".popup__button")}_confirmSubmit(e){e.preventDefault(),this._handleSubmit(this.card)}open(e){this.card=e,super.open()}setEventListeners(){super.setEventListeners(),this._confirmation.addEventListener("submit",(e=>this._confirmSubmit(e)))}changeSubmitBtnText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"saving";this._submitBtn.textContent=e}}({popupSelector:".popup-delete-confirmation",handleSubmit:e=>{m.changeSubmitBtnText("Deleting..."),n.deleteCard(e.getID()).then((t=>{e.deleteCard(),m.changeSubmitBtnText("Yes"),m.close()})).catch((e=>{console.log(e)}))}}),_=e=>{m.open(e)},g=new i({popupSelector:".popup-place-form",handleFormSubmit:e=>{g.changeSubmitBtnText("Adding new photo"),n.addCard(e).then((t=>{e.owner={_id:r.getUserID()},e._id=t._id,e.owner._id=c,o(e),g.changeSubmitBtnText("Save"),g.close()})).catch((e=>{console.log(e)}))}}),b=new i({popupSelector:".popup-avatar-form",handleFormSubmit:e=>{b.changeSubmitBtnText("Updating avatar image"),n.updateAvatar(e).then((t=>{t.avatar===e.link?(r.setAvatar(e.link),b.changeSubmitBtnText("Save"),b.close()):reject("Error changing Avatar image")})).catch((e=>{console.log(e)})).finally((e=>{b.changeSubmitBtnText("Save"),b.close()}))}}),E=new e(t,p.popupElement),v=new e(t,g.popupElement),S=new e(t,b.popupElement);d.setEventListeners(),p.setEventListeners(),g.setEventListeners(),m.setEventListeners(),b.setEventListeners(),E.enableValidation(),v.enableValidation(),S.enableValidation();const f=document.querySelector(".profile__edit-btn"),k=document.querySelector(".profile__add-btn"),L=document.querySelector(".profile__edit-avatar-btn");f.addEventListener("click",(()=>{p.open(),p.prefillForm(r.getUserInfo()),E.resetValidation()})),k.addEventListener("click",(()=>{g.open(),v.resetValidation()})),L.addEventListener("click",(()=>{b.open(),S.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0xnSSxFQUFrQnhJLG9CQUFvQixRQUN0Q3dJLEVBQWtCNUosY0FTNUI4SixFQUF1QixJQUFJQyxFQUFjdEssRUFBbUJ5SixFQUFjdEosY0FDMUVvSyxFQUFxQixJQUFJRCxFQUFjdEssRUFBbUJrSyxFQUFhL0osY0FDdkVxSyxFQUE0QixJQUFJRixFQUFjdEssRUFBbUJtSyxFQUFrQmhLLGNBSXpGbUosRUFBVzNJLG9CQUNYOEksRUFBYzlJLG9CQUNkdUosRUFBYXZKLG9CQUNiZ0osRUFBd0JoSixvQkFDeEJ3SixFQUFrQnhKLG9CQVNsQjBKLEVBQXFCekssbUJBQ3JCMkssRUFBbUIzSyxtQkFDbkI0SyxFQUEwQjVLLG1CQUsxQixNQUFNNkssRUFBa0JySyxTQUFTbkMsY0FBYyxzQkFDekN5TSxFQUFnQnRLLFNBQVNuQyxjQUFjLHFCQUN2QzBNLEVBQWlCdkssU0FBU25DLGNBQWMsNkJBTzlDd00sRUFBZ0I5SyxpQkFBaUIsU0FOTSxLQUNuQzhKLEVBQWNqSixPQUNkaUosRUFBYzNILFlBQVl5QyxFQUFTeEIsZUFDbkNzSCxFQUFxQnRLLHFCQVN6QjJLLEVBQWMvSyxpQkFBaUIsU0FKSixLQUN2QnVLLEVBQWExSixPQUNiK0osRUFBbUJ4SyxxQkFPdkI0SyxFQUFlaEwsaUJBQWlCLFNBSk4sS0FDdEJ3SyxFQUFrQjNKLE9BQ2xCZ0ssRUFBMEJ6SyxxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdF84Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0XzgvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdF84Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3Byb2plY3RfOC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0XzgvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0XzgvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL0NhcmQgY2xhc3Mgd2l0aCBFeHBvcnRcclxuY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCB0ZW1wbGF0ZVNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBkYXRhLmRhdGEubmFtZTsgLy9ub3Qgc3VyZSB3aHkgSSBuZWVkIHRoZSBleHRyYSBcImRhdGEuXCIgaGVyZSFcclxuICAgICAgICB0aGlzLl9pbWFnZVVybCA9IGRhdGEuZGF0YS5saW5rO1xyXG4gICAgICAgIHRoaXMuX2NhcmRJRCA9IGRhdGEuZGF0YS5faWQ7XHJcbiAgICAgICAgdGhpcy5fb3duZXJJRCA9IGRhdGEuZGF0YS5vd25lci5faWQ7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBkYXRhLmRhdGEubGlrZXM7XHJcblxyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2UgPSBkYXRhLmhhbmRsZUxpa2U7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlVW5saWtlID0gZGF0YS5oYW5kbGVVbmxpa2U7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gZGF0YS5oYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5fY29uZmlybURlbGV0ZSA9IGRhdGEuY29uZmlybURlbGV0ZTsgLy9yZXR1cm5zIHRydWUgaWYgc2hvdWxkIGRlbGV0ZSBcclxuICAgICAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjsgLy8gXCIjY2FyZC10ZW1wbGF0ZVwiXHJcblxyXG4gICAgICAgIHRoaXMuX2RvSUxpa2UgPSB0aGlzLl9kb0lMaWtlLmJpbmQodGhpcyk7XHJcbiAgICB9O1xyXG4gICAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgICAgICAgLmNvbnRlbnRcclxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxyXG4gICAgICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgfVxyXG4gICAgX2FkZERhdGFUb0NhcmQoKSB7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2UtdGl0bGVcIik7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIik7XHJcbiAgICAgICAgdGhpcy5saWtlc0NvdW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlcy1jb3VudFwiKTtcclxuICAgICAgICBpZiAodGhpcy5fbGlrZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9saWtlcyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxpa2VzQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy50aXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gdGhpcy5faW1hZ2VVcmw7XHJcbiAgICAgICAgdGhpcy5pbWFnZS5hbHQgPSB0aGlzLl90aXRsZTtcclxuICAgIH1cclxuICAgIGRlbGV0ZUNhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7IC8vdGhpcy5fY2FyZEVsZW1lbnQ9bnVsbDsgZG9lcyBub3Qgd29ya1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuICAgIH1cclxuICAgIF9kb0lMaWtlKGlkT2ZMaWtlcikge1xyXG4gICAgICAgIHJldHVybiBpZE9mTGlrZXIuX2lkID09PSB0aGlzLl9teUlEO1xyXG4gICAgfVxyXG4gICAgX2FkZEV2ZW50TGlzdGVuZXJzKGNhbkRlbGV0ZSkge1xyXG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlLWJ0blwiKVxyXG4gICAgICAgIGlmIChjYW5EZWxldGUpIHtcclxuICAgICAgICAgICAgZGVsZXRlQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbmZpcm1EZWxldGUodGhpcyk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkZWxldGVCdG4uY2xhc3NMaXN0LmFkZChcImhpZGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtdG9nZ2xlXCIpO1xyXG4gICAgICAgIHRoaXMuaXNMaWtlZEJ5TWUgPSB0aGlzLl9saWtlcy5maW5kKHRoaXMuX2RvSUxpa2UpO1xyXG4gICAgICAgIHRoaXMuc2V0TGlrZUljb24oKTtcclxuXHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pc0xpa2VkQnlNZSA9ICF0aGlzLmlzTGlrZWRCeU1lO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0xpa2VkQnlNZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlTGlrZSh0aGlzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVVubGlrZSh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh7XHJcbiAgICAgICAgICAgICAgICBsaW5rOiB0aGlzLl9pbWFnZVVybCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuX3RpdGxlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2V0TGlrZUljb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNMaWtlZEJ5TWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fbGlrZS10b2dnbGUtYWN0aXZlXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX2xpa2UtdG9nZ2xlLWFjdGl2ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZUNhcmQoY2FuRGVsZXRlLCBteUlEKSB7XHJcbiAgICAgICAgdGhpcy5fbXlJRCA9IG15SUQ7XHJcbiAgICAgICAgdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgICAgICB0aGlzLl9hZGREYXRhVG9DYXJkKCk7XHJcbiAgICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoY2FuRGVsZXRlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gICAgfVxyXG4gICAgZ2V0SUQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRJRDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDsiLCIvL2NsYXNzIEZvcm1WYWxpZGF0b3Igd2l0aCBFeHBvcnRcclxuY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzOyAvL3NlbGVjdG9ycyBhbmQgZm9ybSBjbGFzc2VzXHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDsgLy9mb3JtIGVsZW1lbnQgdG8gYmUgdmFsaWRhdGVkXHJcbiAgICB9XHJcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgaW5wdXQuaWQgKyBcIi1lcnJvclwiKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIH1cclxuICAgIF9zaG93SW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBpbnB1dC5pZCArIFwiLWVycm9yXCIpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KSB7XHJcbiAgICAgICAgaWYgKGlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4geyByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCB9KVxyXG4gICAgfVxyXG5cclxuICAgIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxyXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxyXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zZXRFdmVudExpc3RuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuaW5wdXRMaXN0ID0gWy4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuaW5wdXRTZWxlY3RvcildO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdG5lcnMoKTtcclxuXHJcbiAgICB9XHJcbiAgICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpIC8vY2xlYXJpbmcgZXJyb3JzIGV2ZW4gaWYgdXNlciBhY2NpZGVudGx5IGxlYXZlcyB0aGUgZm9ybSB3aXRoIGVycm9ycyBvbiBpdCEgICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpOyAvLyBjb250cm9sbGluZyB0aGUgc3VibWl0IGJ1dHRvbiBcclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yOyIsImV4cG9ydCBjb25zdCBkZWZhdWx0Rm9ybUNvbmZpZyA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxuICAgIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCJcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cENvbmZpZyA9IHtcclxuICAgIGltYWdlTW9kYWxXaW5kb3c6IFwiLnBvcHVwLWltYWdlXCIsXHJcbiAgICBlZGl0Rm9ybU1vZGFsV2luZG93OiBcIi5wb3B1cC1wcm9maWxlLWZvcm1cIixcclxuICAgIGNhcmRGb3JtTW9kYWxXaW5kb3c6IFwiLnBvcHVwLXBsYWNlLWZvcm1cIixcclxuICAgIGRlbGV0ZUNvbmZpcm1hdGlvbldpbmRvdzogXCIucG9wdXAtZGVsZXRlLWNvbmZpcm1hdGlvblwiLFxyXG4gICAgY2hhbmdlQXZhdGFyTW9kYWxXaW5kb3c6IFwiLnBvcHVwLWF2YXRhci1mb3JtXCJcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQ29uZmlnID0ge1xyXG4gICAgcHJvZmlsZVRpdGxlOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgICBwcm9maWxlRGVzY3JpcHRpb246IFwiLnByb2ZpbGVfX2pvYlwiLFxyXG4gICAgcHJvZmlsZUF2YXRhckltYWdlOiBcIi5wcm9maWxlX19hdmF0YXJcIlxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRzQ29uZmlnID0ge1xyXG4gICAgY2FyZFNlbGVjdG9yOiBcIiNlbGVtZW50XCIsIC8vQ2FyZC4gdGVtcGxhdGVTZWxlY3RvciAgXHJcbiAgICBwbGFjZXN3cmFwOiBcIi5lbGVtZW50c1wiLCAvL1NlY3Rpb24uY29udGFpbmVyU2VsZWN0b3JcclxufTtcclxuZXhwb3J0IGNvbnN0IHN1Ym1pdEJ1dHRvbkNvbmZpZyA9IHtcclxuICAgIHByb2ZpbGU6IFwiLmVkaXQtcHJvZmlsZS1mb3JtX19zYXZlXCIsXHJcbiAgICBhdmF0YXI6IFwiLnVwZGF0ZS1hdmF0YXItZm9ybV9fc2F2ZVwiLFxyXG4gICAgY2FyZDogXCIuYWRkLXBsYWNlLWZvcm1fX3NhdmVcIlxyXG59IiwiY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMucG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NVcCA9IHRoaXMuX2hhbmRsZUVzY1VwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZSA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlRXNjVXAoZXZ0KSB7XHJcbiAgICAgICAgLy9wcmV2ZW50IGRlZmF1bHQgYW5kIGlmIGJ1dHRvbiB3YXMgRXNjIGNhbGwgY2xvc2UgbWV0aG9kXHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgLy9jcmVhdGUgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGNsaWNrIG9uIGNsb3NlIGJ1dHRvbiBvciBzZW1pdHJhbnNwYXJlbnQgYmFja2dyb3VuZFxyXG4gICAgICAgIHRoaXMucG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW5jZWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpOyAvL2Nsb3NlIGJ1dHRvblxyXG4gICAgICAgIC8vc3VnZ2VzdGlvbiBvZiBtb3VzZWRvd24gdXNlZC4gZXZlbnRMaXN0ZW5lcnMgdXNpbmcgYXJyb3cgZnVuY3Rpb25zIGNhbid0IGJlIHJlbW92ZWQsXHJcbiAgICAgICAgLy8gYW5kIGlmIEkgZG9uJ3QgdXNlIGFuIGFycm93IGZ1bmN0aW9uIEkgZG9uJ3QgaGF2ZSBhY2Nlc3MgdG8gYm90aCBldnQudGFyZ2V0IGFuZCB0aGlzLnBvcHVwRWxlbWVudFxyXG4gICAgICAgIC8vIHNvIGlmIEkgY2FuJ3QgcmVtb3ZlIGl0IGluIGNsb3NlLCBJJ20gbm90IGdvaW5nIHRvIGNyZWF0ZSBhIG5ldyBvbiB3aXRoIGVhY2ggb3BlbiE5MC0vODQ3MjQyNTQ1MTEzMiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5wb3B1cEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTsgLy9wb3B1cCBzZW1pdHJhbnNwYXJlbnQgYmFja2dyb3VuZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlT3ZlcmxheUNsaWNrKGV2dCkge1xyXG4gICAgICAgIGlmIChldnQudGFyZ2V0ID09PSB0aGlzLnBvcHVwRWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7IC8vcG9wdXAgc2VtaXRyYW5zcGFyZW50IGJhY2tncm91bmRcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIC8vYWRkIGEgbmV3IGNsYXNzIGFuZCBjcmVhdGVzIGFuIGV2ZW50bGlzdGVuZXIgZm9yIEVzYyBrZXl1cFxyXG4gICAgICAgIHRoaXMucG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlRXNjVXApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICAvL3JlbW92ZXMgdGhlIGNsYXNzIHdlIGFkZGVkIGFuZCB0aGUgZXZlbnRsaXN0ZW5lciBmb3IgdGhlIEVzYyBrZXl1cFxyXG4gICAgICAgIHRoaXMucG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlRXNjVXApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpOyAvL3RoaXMucG9wdXBFbGVtZW50XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMucG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24nKTtcclxuICAgICAgICB0aGlzLl9pbnB1dHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0JyldO1xyXG5cclxuICAgIH1cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gICAgfVxyXG4gICAgY2hhbmdlU3VibWl0QnRuVGV4dChtc2cgPSBcInNhdmluZ1wiKSB7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gbXNnO1xyXG4gICAgfVxyXG4gICAgX2Zvcm1TdWJtaXQoKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH1cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4gdGhpcy5fZm9ybVN1Ym1pdChldnQpKTtcclxuICAgIH1cclxuICAgIGNsb3NlID0gKCkgPT4geyAvL2Fycm93IGZ1bmN0aW9uIG1ldGhvZCwgcmV0YWlucyBjb250ZXh0IHdpdGhvdXQgbmVlZCBmb3IgLmJpbmQodGhpcylcclxuXHJcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlZmlsbEZvcm0oaW5wdXRWYWx1ZXMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07IiwiY2xhc3MgQVBJIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCwgaGVhZGVycyB9KSB7XHJcbiAgICAgICAgdGhpcy5iYXNlVVJMID0gYmFzZVVSTDtcclxuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xyXG4gICAgfVxyXG4gICAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICAgICAgcmV0dXJuIChyZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKTs7XHJcbiAgICB9XHJcbiAgICBfY3VzdG9tRmV0Y2godXJsLCBtZXRob2QgPSBcIkdFVFwiKSB7IC8vdXNlZCBpbnRlcm5hbGx5XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHVybCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuXHJcbiAgICB9XHJcbiAgICBnZXRJbml0aWFsQ2FyZHMoKSB7IC8vaW5kZXguanMgbGluZSA2NlxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLmJhc2VVUkx9L2NhcmRzYCk7XHJcbiAgICB9XHJcbiAgICBnZXRVc2VySW5mbygpIHsgLy9pbmRleC5qcyBMaW5lIDY2IGFuZCAxODZcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5iYXNlVVJMfS91c2Vycy9tZWApO1xyXG4gICAgfVxyXG5cclxuICAgIGVkaXRQcm9maWxlKHsgdXNlck5hbWUsIGFib3V0IH0pIHsgLy9pbmRleC5qcyBMaW5lIDkxXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVSTH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFib3V0OiBhYm91dFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7IC8vaW5kZXguanMgTGluZSAxMzZcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVVJMfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBsaW5rOiBsaW5rXHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICAgIH1cclxuICAgIGRlbGV0ZUNhcmQoY2FyZElEKSB7IC8vaW5kZXguanMgTGluZSAxMDlcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5iYXNlVVJMfS9jYXJkcy8ke2NhcmRJRH1gLCBcIkRFTEVURVwiKVxyXG4gICAgfVxyXG5cclxuICAgIC8qTm90IHVzZWQgeWV0Ki9cclxuICAgIGdldExpa2VzQ291bnQoY2FyZElEKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVUkx9L2NhcmRzJHtjYXJkSUR9YCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLypOb3QgdXNlZCB5ZXQqL1xyXG4gICAgaXNNeUNhcmQoY2FyZElEKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVSTH0vY2FyZHMvJHtjYXJkSUR9YCwge1xyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQub3duZXIuX2lkID09PSB0aGlzLmF1dGhvcmlzYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsaWtlQ2FyZChjYXJkSUQpIHsgLy9pbmRleC5qcyBMaW5lIDQ4XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuYmFzZVVSTH0vY2FyZHMvbGlrZXMvJHtjYXJkSUR9YCwgXCJQVVRcIilcclxuICAgIH1cclxuICAgIHVubGlrZUNhcmQoY2FyZElEKSB7IC8vaW5kZXguanMgTGluZSA1MFxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLmJhc2VVUkx9L2NhcmRzL2xpa2VzLyR7Y2FyZElEfWAsIFwiREVMRVRFXCIpXHJcbiAgICB9XHJcbiAgICB1cGRhdGVBdmF0YXIoeyBsaW5rIH0pIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVVJMfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IGxpbmtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBUEkoe1xyXG4gICAgYmFzZVVSTDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCIwNzdlMDJmNS00NjljLTQ5MjUtYTExMC1lN2RhYWM5ZjZlYWRcIixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgfVxyXG59KTsiLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG4vLy0tXHJcbi8vaW1wb3J0IHN0YXRlbWVudHNcclxuLy8tLVxyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgZGVmYXVsdEZvcm1Db25maWcsIHBvcHVwQ29uZmlnLCBwcm9maWxlQ29uZmlnLCBjYXJkc0NvbmZpZyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybVwiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2VcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvblwiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm9cIjtcclxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uXCI7XHJcblxyXG5cclxuLy8tLVxyXG4vL1Byb2ZpbGUgU2V0dXBcclxuLy8tLVxyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gICAgbmFtZVNlbGVjdG9yOiBwcm9maWxlQ29uZmlnLnByb2ZpbGVUaXRsZSxcclxuICAgIGpvYlNlbGVjdG9yOiBwcm9maWxlQ29uZmlnLnByb2ZpbGVEZXNjcmlwdGlvbixcclxuICAgIGF2YXRhclNlbGVjdG9yOiBwcm9maWxlQ29uZmlnLnByb2ZpbGVBdmF0YXJJbWFnZVxyXG59KTtcclxuXHJcbi8vLS1cclxuLy9DYXJkcyBTZXR1cFxyXG4vLy0tXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xyXG4gICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHtcclxuICAgICAgICBkYXRhLFxyXG4gICAgICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICBvcGVuSW1hZ2VQb3B1cChkYXRhKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbmZpcm1EZWxldGU6IChjYXJkVG9EZWxldGUpID0+IHtcclxuICAgICAgICAgICAgb3BlbkRlbGV0ZUNvbmZpcm1hdGlvblBvcHVwKGNhcmRUb0RlbGV0ZSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhhbmRsZUxpa2UsXHJcbiAgICAgICAgaGFuZGxlVW5saWtlLFxyXG4gICAgfSwgY2FyZHNDb25maWcuY2FyZFNlbGVjdG9yKTtcclxuICAgIHJldHVybiBjYXJkO1xyXG59XHJcblxyXG5jb25zdCByZW5kZXJDYXJkID0gKGRhdGEpID0+IHtcclxuICAgIGNvbnN0IGNhbkRlbGV0ZSA9ICgoZGF0YS5vd25lci5faWQgPT09IG15SUQpID8gdHJ1ZSA6IGZhbHNlKTtcclxuICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gICAgY2FyZHNMaXN0LmFkZEl0ZW0oY2FyZC5nZW5lcmF0ZUNhcmQoY2FuRGVsZXRlLCBteUlEKSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVMaWtlKGNhcmQpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiY2FyZCBJRFwiLCBjYXJkLmdldElEKCkpXHJcbiAgICBhcGkubGlrZUNhcmQoY2FyZC5nZXRJRCgpKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgY2FyZC5zZXRMaWtlSWNvbih0cnVlKVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVVubGlrZShjYXJkKSB7XHJcbiAgICBhcGkudW5saWtlQ2FyZChjYXJkLmdldElEKCkpXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBjYXJkLnNldExpa2VJY29uKGZhbHNlKVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxuY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gICAgcmVuZGVyZXI6IHJlbmRlckNhcmQsXHJcbn0sIGNhcmRzQ29uZmlnLnBsYWNlc3dyYXApO1xyXG5cclxubGV0IG15SUQgPSBcIjBcIjtcclxuXHJcblByb21pc2UuYWxsKFthcGkuZ2V0SW5pdGlhbENhcmRzKCksIGFwaS5nZXRVc2VySW5mbygpXSlcclxuICAgIC50aGVuKChbY2FyZERhdGEsIHVzZXJEYXRhXSkgPT4ge1xyXG5cclxuICAgICAgICBteUlEID0gdXNlckRhdGEuX2lkO1xyXG4gICAgICAgIGNhcmRzTGlzdC5yZW5kZXJJdGVtcyhjYXJkRGF0YSk7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oeyB1c2VyTmFtZTogdXNlckRhdGEubmFtZSwgam9iOiB1c2VyRGF0YS5hYm91dCwgdXNlcklEOiB1c2VyRGF0YS5faWQgfSk7XHJcbiAgICAgICAgdXNlckluZm8uc2V0QXZhdGFyKHVzZXJEYXRhLmF2YXRhcik7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSk7XHJcblxyXG4vLy0tXHJcbi8vSW1hZ2UgUG9wdXAgU2V0dXBcclxuLy8tLVxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwQ29uZmlnLmltYWdlTW9kYWxXaW5kb3cpO1xyXG5jb25zdCBvcGVuSW1hZ2VQb3B1cCA9IChkYXRhKSA9PiB7IGltYWdlUG9wdXAub3BlbihkYXRhKTsgfTtcclxuXHJcbi8vLS1cclxuLy9Vc2VyIEluZm8gUG9wdXAgU2V0dXBcclxuLy8tLVxyXG5jb25zdCB1c2VySW5mb1BvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gICAgcG9wdXBTZWxlY3RvcjogcG9wdXBDb25maWcuZWRpdEZvcm1Nb2RhbFdpbmRvdyxcclxuICAgIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm9Qb3B1cC5jaGFuZ2VTdWJtaXRCdG5UZXh0KFwiVXBkYXRpbmcgcHJvZmlsZSBpbmZvcm1hdGlvblwiKTtcclxuICAgICAgICBhcGkuZWRpdFByb2ZpbGUoeyB1c2VyTmFtZTogZGF0YS5uYW1lLCBhYm91dDogZGF0YS5qb2IgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgdXNlck5hbWU6IGRhdGEubmFtZSwgam9iOiBkYXRhLmpvYiB9KTtcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvUG9wdXAuY2hhbmdlU3VibWl0QnRuVGV4dChcIlNhdmVcIik7XHJcbiAgICAgICAgICAgICAgICB1c2VySW5mb1BvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxufSk7XHJcbmNvbnN0IGRlbGV0ZUNvbmZpcm1hdGlvblBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbih7XHJcbiAgICBwb3B1cFNlbGVjdG9yOiBwb3B1cENvbmZpZy5kZWxldGVDb25maXJtYXRpb25XaW5kb3csXHJcbiAgICBoYW5kbGVTdWJtaXQ6IChjYXJkKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlQ29uZmlybWF0aW9uUG9wdXAuY2hhbmdlU3VibWl0QnRuVGV4dChcIkRlbGV0aW5nLi4uXCIpO1xyXG4gICAgICAgIGFwaS5kZWxldGVDYXJkKGNhcmQuZ2V0SUQoKSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlQ29uZmlybWF0aW9uUG9wdXAuY2hhbmdlU3VibWl0QnRuVGV4dChcIlllc1wiKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZUNvbmZpcm1hdGlvblBvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgIH1cclxufSk7XHJcbmNvbnN0IG9wZW5EZWxldGVDb25maXJtYXRpb25Qb3B1cCA9IChkYXRhKSA9PiB7IGRlbGV0ZUNvbmZpcm1hdGlvblBvcHVwLm9wZW4oZGF0YSk7IH07XHJcblxyXG4vLy0tXHJcbi8vQWRkIENhcmQgUG9wdXAgU2V0dXBcclxuLy8tLVxyXG5jb25zdCBuZXdDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgICBwb3B1cFNlbGVjdG9yOiBwb3B1cENvbmZpZy5jYXJkRm9ybU1vZGFsV2luZG93LFxyXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgICAgICBuZXdDYXJkUG9wdXAuY2hhbmdlU3VibWl0QnRuVGV4dChcIkFkZGluZyBuZXcgcGhvdG9cIik7XHJcbiAgICAgICAgYXBpLmFkZENhcmQoZGF0YSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGRhdGEub3duZXIgPSB7IF9pZDogdXNlckluZm8uZ2V0VXNlcklEKCkgfTtcclxuICAgICAgICAgICAgICAgIGRhdGEuX2lkID0gcmVzLl9pZDtcclxuICAgICAgICAgICAgICAgIGRhdGEub3duZXIuX2lkID0gbXlJRDtcclxuICAgICAgICAgICAgICAgIHJlbmRlckNhcmQoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBuZXdDYXJkUG9wdXAuY2hhbmdlU3VibWl0QnRuVGV4dChcIlNhdmVcIik7XHJcbiAgICAgICAgICAgICAgICBuZXdDYXJkUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBjaGFuZ2VBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICAgIHBvcHVwU2VsZWN0b3I6IHBvcHVwQ29uZmlnLmNoYW5nZUF2YXRhck1vZGFsV2luZG93LFxyXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgICAgICBjaGFuZ2VBdmF0YXJQb3B1cC5jaGFuZ2VTdWJtaXRCdG5UZXh0KFwiVXBkYXRpbmcgYXZhdGFyIGltYWdlXCIpO1xyXG4gICAgICAgIGFwaS51cGRhdGVBdmF0YXIoZGF0YSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMuYXZhdGFyID09PSBkYXRhLmxpbmspIHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VySW5mby5zZXRBdmF0YXIoZGF0YS5saW5rKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VBdmF0YXJQb3B1cC5jaGFuZ2VTdWJtaXRCdG5UZXh0KFwiU2F2ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VBdmF0YXJQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoXCJFcnJvciBjaGFuZ2luZyBBdmF0YXIgaW1hZ2VcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmluYWxseShyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlQXZhdGFyUG9wdXAuY2hhbmdlU3VibWl0QnRuVGV4dChcIlNhdmVcIik7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VBdmF0YXJQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgIH1cclxufSlcclxuXHJcbi8vLS1cclxuLy9Gb3JtIFZhbGlkYXRvciBzZXR0aW5nc1xyXG4vLy0tXHJcbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZGVmYXVsdEZvcm1Db25maWcsIHVzZXJJbmZvUG9wdXAucG9wdXBFbGVtZW50KTtcclxuY29uc3QgcGxhY2VGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZGVmYXVsdEZvcm1Db25maWcsIG5ld0NhcmRQb3B1cC5wb3B1cEVsZW1lbnQpO1xyXG5jb25zdCBjaGFuZ2VBdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZGVmYXVsdEZvcm1Db25maWcsIGNoYW5nZUF2YXRhclBvcHVwLnBvcHVwRWxlbWVudCk7XHJcbi8vLS1cclxuLy9FdmVudExpc3RlbmVyc1xyXG4vLy0tXHJcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxudXNlckluZm9Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5uZXdDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuZGVsZXRlQ29uZmlybWF0aW9uUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuY2hhbmdlQXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuLy8tLVxyXG4vL0luaXRpYWwgQ2FyZHMgLyBQbGFjZXNcclxuLy8tLVxyXG4vL2NhcmRzTGlzdC5yZW5kZXJJdGVtcyhpbml0aWFsQ2FyZHMpO1xyXG5cclxuLy8tLVxyXG4vL0VuYWJsZSBGb3JtIFZhbGlkYXRvcnNcclxuLy8tLVxyXG5wcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbnBsYWNlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNoYW5nZUF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4vLy0tXHJcbi8vRE9NIHRvIEpTXHJcbi8vLS1cclxuXHJcbmNvbnN0IG9wZW5Qcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ0bicpO1xyXG5jb25zdCBvcGVuUGxhY2VGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idG4nKTtcclxuY29uc3Qgb3BlbkF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1hdmF0YXItYnRuJyk7XHJcbmNvbnN0IG9wZW5Qcm9maWxlRm9ybVdpdGhDdXJyZW50SW5mbyA9ICgpID0+IHtcclxuICAgIHVzZXJJbmZvUG9wdXAub3BlbigpO1xyXG4gICAgdXNlckluZm9Qb3B1cC5wcmVmaWxsRm9ybSh1c2VySW5mby5nZXRVc2VySW5mbygpKTtcclxuICAgIHByb2ZpbGVGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59XHJcblxyXG5vcGVuUHJvZmlsZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuUHJvZmlsZUZvcm1XaXRoQ3VycmVudEluZm8pO1xyXG5cclxuY29uc3Qgb3BlblBsYWNlRm9ybUVtcHR5ID0gKCkgPT4ge1xyXG4gICAgbmV3Q2FyZFBvcHVwLm9wZW4oKTtcclxuICAgIHBsYWNlRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxufVxyXG5vcGVuUGxhY2VGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblBsYWNlRm9ybUVtcHR5KTtcclxuY29uc3QgY2hhbmdlQXZhdGFySW1hZ2UgPSAoKSA9PiB7XHJcbiAgICBjaGFuZ2VBdmF0YXJQb3B1cC5vcGVuKCk7XHJcbiAgICBjaGFuZ2VBdmF0YXJGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59XHJcbm9wZW5BdmF0YXJGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlQXZhdGFySW1hZ2UpOyIsIiBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICAgICAgIHRoaXMubmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICAgICAgIHRoaXMuam9iRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xyXG4gICAgICAgICB0aGlzLmF2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICAgICB9XHJcblxyXG4gICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgICBjb25zdCB1c2VyID0ge1xyXG4gICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgIGpvYjogdGhpcy5qb2JFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICAgICB9XHJcbiAgICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgIH1cclxuXHJcbiAgICAgc2V0VXNlckluZm8oeyB1c2VyTmFtZSwgam9iLCB1c2VySUQgfSkge1xyXG4gICAgICAgICAvL1NldHRpbmcgdGhlIGF2YXRhciBpbWFnZSBoZXJlIHdvdWxkIG1ha2Ugc2Vuc2UgXHJcbiAgICAgICAgIC8vaWYgdGhlIGZvcm0gZm9yIHVwZGF0aW5nIHRoZSB1c2VyTmFtZSBhbmQgSUQgYWxzbyB1cGRhdGVkIHRoZSBhdmF0YXIuIEJ1dCBpdCBkb2Vzbid0IVxyXG4gICAgICAgICB0aGlzLm5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdXNlck5hbWU7XHJcbiAgICAgICAgIHRoaXMuam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGpvYjtcclxuICAgICAgICAgdGhpcy51c2VySUQgPSB1c2VySUQ7XHJcbiAgICAgfVxyXG4gICAgIGdldFVzZXJJRCgpIHtcclxuICAgICAgICAgcmV0dXJuIHRoaXMudXNlcklEO1xyXG4gICAgIH1cclxuICAgICBzZXRBdmF0YXIoYXZhdGFyVVJMKSB7XHJcbiAgICAgICAgIHRoaXMuYXZhdGFyRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7YXZhdGFyVVJMfSlgO1xyXG4gICAgIH1cclxuXHJcbiB9XHJcbiBleHBvcnQgZGVmYXVsdCBVc2VySW5mbzsiLCJjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgLyppdGVtcywqLyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgICAgIC8vdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyOyAvLygpO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG4gICAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICAgICAgLy9wcm9qZWN0IHJlcXVpcmVtZW50cyBpbmNsdWRlIGxvb3NlIGNvdXBsaW5nIFxyXG4gICAgICAgIC8vd2l0aCBpbmRleC5qcyBhbmQgY2xhc3MgaW5oZXJpdGFuY2UgYmVpbmcgdGhlIG9ubHkgY29ubmVjdGlvbiBiZXR3ZWVuIGNsYXNzZXMhXHJcbiAgICAgICAgLy9zbyBcImNvbnN0IGNhcmQgPSB0aGlzLl9yZW5kZXJlcihpdGVtKVwiIGlzIG5vdCBwZXJtaXR0ZWQgaGVyZSFcclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxuICAgIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VDYXB0aW9uID0gdGhpcy5wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS10aXRsZScpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VFbGVtZW50ID0gdGhpcy5wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xyXG4gICAgfVxyXG4gICAgb3BlbiA9ICh7IGxpbmssIG5hbWUgfSkgPT4ge1xyXG4gICAgICAgIHRoaXMuaW1hZ2VDYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICB0aGlzLmltYWdlRWxlbWVudC5zcmMgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VFbGVtZW50LmFsdCA9IG5hbWU7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXQgfSkge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpOyAvL3RoaXMucG9wdXBFbGVtZW50XHJcbiAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gICAgICAgIHRoaXMuX2NvbmZpcm1hdGlvbiA9IHRoaXMucG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29uZmlybWF0aW9uJyk7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnRuID0gdGhpcy5fY29uZmlybWF0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJyk7XHJcbiAgICB9XHJcbiAgICBfY29uZmlybVN1Ym1pdChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuY2FyZCk7XHJcbiAgICB9XHJcbiAgICBvcGVuKGNhcmQpIHtcclxuICAgICAgICB0aGlzLmNhcmQgPSBjYXJkO1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbmZpcm1hdGlvbi5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHRoaXMuX2NvbmZpcm1TdWJtaXQoZXZlbnQpKTtcclxuICAgIH1cclxuICAgIGNoYW5nZVN1Ym1pdEJ0blRleHQobXNnID0gXCJzYXZpbmdcIikge1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IG1zZztcclxuICAgIH1cclxuXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoQ29uZmlybWF0aW9uOyJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJ0aGlzIiwiX3NldHRpbmdzIiwiX2Zvcm1FbGVtZW50IiwiX2hpZGVJbnB1dEVycm9yIiwiaW5wdXQiLCJlcnJvckVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImFkZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsImlucHV0TGlzdCIsInNvbWUiLCJpbnB1dEVsZW1lbnQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJidXR0b24iLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfc2V0RXZlbnRMaXN0bmVycyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVuYWJsZVZhbGlkYXRpb24iLCJlIiwicHJldmVudERlZmF1bHQiLCJyZXNldFZhbGlkYXRpb24iLCJkZWZhdWx0Rm9ybUNvbmZpZyIsImZvcm1TZWxlY3RvciIsInBvcHVwU2VsZWN0b3IiLCJwb3B1cEVsZW1lbnQiLCJkb2N1bWVudCIsIl9oYW5kbGVFc2NVcCIsImJpbmQiLCJjbG9zZSIsIm9wZW4iLCJldnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsIl9oYW5kbGVPdmVybGF5Q2xpY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXAiLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfZm9ybSIsInJlc2V0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfc3VibWl0QnRuIiwiX2lucHV0cyIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwibmFtZSIsInZhbHVlIiwiY2hhbmdlU3VibWl0QnRuVGV4dCIsIm1zZyIsIl9mb3JtU3VibWl0IiwicHJlZmlsbEZvcm0iLCJhcGkiLCJiYXNlVVJMIiwiaGVhZGVycyIsIl9jaGVja1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1c1RleHQiLCJfY3VzdG9tRmV0Y2giLCJ1cmwiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsImVkaXRQcm9maWxlIiwidXNlck5hbWUiLCJhYm91dCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkQ2FyZCIsImxpbmsiLCJkZWxldGVDYXJkIiwiY2FyZElEIiwiZ2V0TGlrZXNDb3VudCIsInJlc3VsdCIsImxpa2VzIiwibGVuZ3RoIiwiaXNNeUNhcmQiLCJvd25lciIsIl9pZCIsImF1dGhvcmlzYXRpb24iLCJsaWtlQ2FyZCIsInVubGlrZUNhcmQiLCJ1cGRhdGVBdmF0YXIiLCJhdmF0YXIiLCJhdXRob3JpemF0aW9uIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwibmFtZUVsZW1lbnQiLCJqb2JFbGVtZW50IiwiYXZhdGFyRWxlbWVudCIsImpvYiIsInNldFVzZXJJbmZvIiwidXNlcklEIiwiZ2V0VXNlcklEIiwic2V0QXZhdGFyIiwiYXZhdGFyVVJMIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJyZW5kZXJDYXJkIiwiZGF0YSIsImNhbkRlbGV0ZSIsIm15SUQiLCJjYXJkIiwidGVtcGxhdGVTZWxlY3RvciIsIl90aXRsZSIsIl9pbWFnZVVybCIsIl9jYXJkSUQiLCJfb3duZXJJRCIsIl9saWtlcyIsIl9oYW5kbGVMaWtlIiwiaGFuZGxlTGlrZSIsIl9oYW5kbGVVbmxpa2UiLCJoYW5kbGVVbmxpa2UiLCJfaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlQ2FyZENsaWNrIiwiX2NvbmZpcm1EZWxldGUiLCJjb25maXJtRGVsZXRlIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfZG9JTGlrZSIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkRWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfYWRkRGF0YVRvQ2FyZCIsInRpdGxlIiwiaW1hZ2UiLCJsaWtlc0NvdW50IiwidW5kZWZpbmVkIiwic3JjIiwiYWx0IiwiaWRPZkxpa2VyIiwiX215SUQiLCJfYWRkRXZlbnRMaXN0ZW5lcnMiLCJkZWxldGVCdG4iLCJfbGlrZUJ1dHRvbiIsImlzTGlrZWRCeU1lIiwiZmluZCIsInNldExpa2VJY29uIiwiZ2VuZXJhdGVDYXJkIiwiZ2V0SUQiLCJvcGVuSW1hZ2VQb3B1cCIsImNhcmRUb0RlbGV0ZSIsIm9wZW5EZWxldGVDb25maXJtYXRpb25Qb3B1cCIsImNyZWF0ZUNhcmQiLCJjYXJkc0xpc3QiLCJhZGRJdGVtIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsInJlbmRlckl0ZW1zIiwiaXRlbXMiLCJpdGVtIiwiYWxsIiwiY2FyZERhdGEiLCJ1c2VyRGF0YSIsImltYWdlUG9wdXAiLCJpbWFnZUNhcHRpb24iLCJpbWFnZUVsZW1lbnQiLCJ1c2VySW5mb1BvcHVwIiwiUG9wdXBXaXRoRm9ybSIsImRlbGV0ZUNvbmZpcm1hdGlvblBvcHVwIiwiaGFuZGxlU3VibWl0IiwiX2hhbmRsZVN1Ym1pdCIsIl9jb25maXJtYXRpb24iLCJfY29uZmlybVN1Ym1pdCIsImV2ZW50IiwiZXJyb3IiLCJuZXdDYXJkUG9wdXAiLCJjaGFuZ2VBdmF0YXJQb3B1cCIsImZpbmFsbHkiLCJwcm9maWxlRm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJwbGFjZUZvcm1WYWxpZGF0b3IiLCJjaGFuZ2VBdmF0YXJGb3JtVmFsaWRhdG9yIiwib3BlblByb2ZpbGVGb3JtIiwib3BlblBsYWNlRm9ybSIsIm9wZW5BdmF0YXJGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==